<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title><!-- Post Title --> — Wildflower</title>
  <meta name="robots" content="noindex, nofollow" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- pink theme styles -->
  <link rel="stylesheet" href="style.css">
</head>

<script>
(function(){
  const NAMESPACE = "manel-wildflower";        // change if you want your own namespace
  const API = "https://api.countapi.xyz";      // public JSON counter

  document.querySelectorAll(".water-counter").forEach(initCounter);

  function initCounter(box){
    const key = box.dataset.key || "wildflower-site";
    const btn = box.querySelector(".water-btn");
    const countEl = box.querySelector(".water-count");
    const LS_FLAG = "watered:"+key;

    // seed UI with current count
    fetch(`${API}/get/${encodeURIComponent(NAMESPACE)}/${encodeURIComponent(key)}`)
      .then(r => r.json()).then(d => {
        if (typeof d.value === "number") countEl.textContent = d.value;
      }).catch(()=>{ /* ignore offline */ });

    // reflect prior watering for this visitor
    if (localStorage.getItem(LS_FLAG) === "1") {
      btn.setAttribute("aria-pressed","true");
    }

    btn.addEventListener("click", () => {
      if (btn.getAttribute("aria-pressed")==="true") return; // one per visitor per key
      btn.setAttribute("aria-pressed","true");

      // optimistic increment
      const n = parseInt(countEl.textContent || "0", 10) + 1;
      countEl.textContent = String(n);
      localStorage.setItem(LS_FLAG, "1");

      // click effects
      ripple(btn);
      drop(btn);

      // global increment
      fetch(`${API}/hit/${encodeURIComponent(NAMESPACE)}/${encodeURIComponent(key)}`)
        .then(r => r.json()).then(d => {
          if (typeof d.value === "number") countEl.textContent = d.value;
        }).catch(()=>{ /* keep optimistic number */ });
    });
  }

  function ripple(btn){
    const r = document.createElement("span");
    r.className = "ripple-circle";
    btn.appendChild(r);
    r.addEventListener("animationend", () => r.remove(), {once:true});
  }

  function drop(btn){
    const d = document.createElement("span");
    d.className = "drop";
    btn.appendChild(d);
    d.addEventListener("animationend", () => d.remove(), {once:true});
  }
})();
</script>

<body>
  <!-- Mini header with back + tag -->
  <header class="header-mini py-3">
    <div class="container d-flex justify-content-between align-items-center">
      <a class="text-decoration-none" href="wildflower.html">← Back</a>
      <div class="d-flex align-items-center gap-2">
        <span class="chip">wildflower</span><span aria-hidden="true">✿</span>
      </div>
    </div>
  </header>

  <!-- Main content -->
  <main class="container my-5">
    <div class="content">
      <h1 class="mb-3"><!-- Post Title --></h1>
      <p class="text-muted"><!-- Date · Category tags --></p>

      <p>
        <!-- First paragraph of your story goes here. -->
      </p>

      <p>
        <!-- Continue writing... -->
      </p>

      <p><em>More reflections to come…</em></p>
    </div>

    <!-- Optional prev/next navigation -->
    <nav class="d-flex justify-content-between mt-4">
      <a href="<!-- prev-post.html -->" class="text-decoration-none">&larr; Previous</a>
      <a href="<!-- next-post.html -->" class="text-decoration-none">Next &rarr;</a>
    </nav>
  </main>

  <!-- Footer -->
  <footer class="text-center small text-muted py-5">
  <p>Thanks for finding the garden path.</p>

  <!-- Per-post counter: change data-key per page -->
  <div class="water-counter" data-key="post-internship-2025" data-tip="give water">
    <button class="water-btn" aria-pressed="false" aria-label="Water this garden">
      <!-- watering can icon -->
      <svg viewBox="0 0 24 24" width="22" height="22" aria-hidden="true">
        <path d="M15 7h-1a4 4 0 0 0-8 0H5a3 3 0 0 0-3 3v3a2 2 0 0 0 2 2h1l1.2 3a2 2 0 0 0 1.87 1.3H12a2 2 0 0 0 1.87-1.3L15 15h.62l3.5 2a1 1 0 0 0 1.38-.92V9.5a2.5 2.5 0 0 0-5 0V11H15V7zM7 7a2 2 0 1 1 4 0H7z" fill="currentColor"/>
      </svg>
      <span class="water-label">water</span>
    </button>
    <span class="water-count" aria-live="polite">0</span>
  </div>

  <p class="mt-2 text-muted">These blooms may be small, but I water them to grow — just like me.</p>
</footer>

</body>
</html>